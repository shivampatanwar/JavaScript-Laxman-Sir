<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        .tablediv {
            display: flex;
            justify-content: center;
            align-items: center;
            padding-top: 50px;
            flex-direction: column;
        }

        table {
            border-collapse: collapse;
            width: 80%;
        }

        td,
        th {
            border: 1px solid black;
            height: 25px;
        }

        td {
            padding-left: 15px;
        }

        .btn1, .btn2 {
            text-align: center;
            padding-left: 0;
        }

        .btn1 button {
            background-color: green;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 3px 10px;
        }
        .btn2 button {
            background-color: red;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 3px 10px;
        }

        .addrecordiv{
            padding: 50px 130px 50px;
        }

        .addrecord{
            background-color: green;
            border: none;
            border-radius: 5px;
            color: white;
            padding: 8px 15px;
        }

        
    </style>
</head>

<body>

    <div class="tablediv">
        <table>
            <thead>
                <tr>
                    <th>Id</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Mobile</th>
                    <th>City</th>
                    <th>Edit</th>
                    <th>Delete</th>

                </tr>
            </thead>

            <tbody>
            </tbody>


        </table>

        


    </div>

    <div class="addrecordiv">
        <button class="addrecord" onclick="addRecord()">Add Record</button>
    </div>


    <script>
        let tbody = document.querySelector('tbody');

        fetch('index.json')
            .then((res) => res.json())
            .then((data) => {
                console.log(data);
                data.forEach((value, key) => {
                    let tr = document.createElement('tr');

                    console.log(key);

                    tr.innerHTML = `  
                       
                            <td>${value.id}</td>
                            <td>${value.name}</td>
                            <td>${value.email}</td>
                            <td>${value.mobile}</td>
                            <td>${value.city}</td>
                            <td class="btn1"><button onclick="editRecord(${key})">Edit</button></td>
                            <td class="btn2"><button onclick="deleteRecord(${key})">Delete</button></td>
                        `;

                    tbody.appendChild(tr);
                });
            });


            function addRecord(){

                fetch('index.json')
                .then((res) => res.json())
                .then((data) => {

                    let a = {
                        "id" : 5
                    }
                    
                    data.push(a);
                });

               

            }

            function deleteRecord(key){

                fetch('index.json')
                .then((res) => res.json())
                .then((data) => {
                    console.log(data);
                    data.splice(key, key+1);
                });

            }





    </script>



</body>

</html>